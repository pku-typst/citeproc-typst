---
import LanguageSwitcher from "./LanguageSwitcher.astro";
import ThemeSwitcher from "./ThemeSwitcher.svelte";
import { type Locale, useTranslation } from "../i18n";

interface Props {
  locale: Locale;
  title: string;
  description: string;
  stats?: { label: string; value: string }[];
}

const { locale, title, description, stats = [] } = Astro.props;
const t = useTranslation(locale);
---

<div
  class="relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/10 via-primary/5 to-transparent border border-border p-6 sm:p-8 mb-8"
>
  <!-- Decorative elements -->
  <div
    class="absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-primary/10 rounded-full blur-2xl"
  >
  </div>
  <div
    class="absolute bottom-0 left-0 -mb-4 -ml-4 w-32 h-32 bg-success/10 rounded-full blur-2xl"
  >
  </div>

  <!-- Controls: Theme + Language -->
  <div class="absolute top-4 right-4 sm:top-6 sm:right-6 z-20 flex items-center gap-2">
    <ThemeSwitcher client:load t={t.theme} />
    <LanguageSwitcher locale={locale} />
  </div>

  <!-- Content -->
  <div class="relative z-10">
    <h1 class="text-2xl sm:text-3xl lg:text-4xl font-bold mb-3">
      {title}
    </h1>
    <p class="text-muted-foreground text-sm sm:text-base max-w-2xl">
      {description}
    </p>

    {
      stats.length > 0 && (
        <div class="flex flex-wrap gap-4 sm:gap-6 mt-6">
          {stats.map((stat) => (
            <div class="text-center">
              <div class="text-xl sm:text-2xl font-bold text-primary">
                {stat.value}
              </div>
              <div class="text-xs sm:text-sm text-muted-foreground">
                {stat.label}
              </div>
            </div>
          ))}
        </div>
      )
    }
  </div>
</div>
